<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>내 블로그 / 방문자 회원가입</title>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <style>
      body {
        margin: 0px;
        padding: 0px;
        background-color: #f2f2f2;
      }
      header {
        background-color: #333;
        color: white;
        padding: 10px 0;
        text-align: center;
      }
      header h1 {
        margin: 0px;
      }
      /* 네비게이션 꾸미기 */
      nav ul {
        list-style: none;
        padding: 0px;
      }
      nav ul li {
        display: inline;
        margin: 0px 10px; /* 상하 0 좌우 10 */
      }
      nav ul li a {
        color: white;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>내 블로그에 오신 것을 환영합니다.</h1>
      <nav>
        <ul>
          <li><a href="#">홈</a></li>
          <li><a href="#">소개</a></li>
          <li><a href="#">연락처</a></li>
        </ul>
      </nav>
    </header>
    <style>
      /* class container 꾸미기 */
      .container {
        display: flex;
        flex-wrap: wrap;
        margin: 20px;
      }
      /* class posts 꾸미기 class 는 . 으로 시작 */
      .posts {
        flex: 2;
        margin-right: 20px;
      }
      /* div class posts 밑에 있는 article class 꾸미기 */
      .posts .article {
        background-color: white;
        margin-bottom: 20px;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 0 10px #f2f2f2;
      }
      .posts .article h2 {
        margin-top: 0px;
      }
      .posts .article a {
        color: #333;
        text-decoration: none;
      }

      /* aside class 꾸며주기 */
      .aside {
        flex: 1;
        background-color: white;
        padding: 20px;
        border-radius: 5px;
        box-shadow: 0 0 10px #f2f2f2;
      }
    </style>
    <div class="container">
      <div class="posts">
        <!-- article : 블로그, 글, 뉴스기사, 포럼 게시물 등과 같이 독립적적으로
                       작성하거나 재사용할 수 있는 내요응ㄹ 작성할 때 사용
        -->
        <div class="article">
          <h2>블로그 글 제목1</h2>
          <p>
            첫 번째 블로그 글 내용. 우리 블로그에는 다양한 정보를 담고 있습니다.
          </p>
          <a href="#">더보기</a>
        </div>

        <div class="article">
          <h2>블로그 글 제목2</h2>
          <p>여기는 블로그로 소통하고 정보를 나누는 공간입니다.</p>
          <a href="#">더보기</a>
        </div>
      </div>
      <!-- aside : 본문 내용과 간접적으로 관련된 내용을 표시할 때 사용
                   예를 들어 블로그 페이지의 사이드 바, 광고, 관련 링크, 저자정보 등
       -->
      <div class="aside">
        <h2>소개</h2>
        <p>
          안녕하세요. 저의 블로그입니다. 제 블로그에 오신 것을 환영합니다.
          여기서 다양한 생각과 경험을 공유합니다.
        </p>
      </div>
      <style>
        .visitor-comments {
          flex: 1 1 100%;
          background-color: white;
          padding: 20px;
          border-radius: 5px;
          box-shadow: 0 0 10px #f2f2f2;
          margin-top: 20px;
        }
        .visitor-comments form {
          display: flex;
          flex-direction: column;
        }
        .visitor-comments h2 {
          margin-top: 0;
        }
        .visitor-comments input {
          margin: 10px 0px 5px;
        }
        .visitor-comments input,
        .visitor-comments textarea {
          padding: 10px;
          border: 1px solid #ccc;
          border-radius: 5px;
        }
        .visitor-comments button {
          border: none;
          background-color: #333;
          color: white;
          border-radius: 5px;
          cursor: pointer;
          margin-top: 10px;
          padding: 10px;
        }
        footer {
          text-align: center;
          padding: 20px 0;
          background-color: #333;
          color: white;
        }
      </style>
      <div class="visitor-comments">
        <!-- visitor : 방문자   comments : 댓글들 -->
        <h2>방문자 회원가입</h2>
        <form action="#" method="post">
          <label>이름 : </label>
          <input type="text" id="이름" required />
          <p id="msgName"></p>
          <label>아이디 : </label>
          <input type="text" id="아이디">
          <label>비밀번호 :</label>
          <input type="password" id="비밀번호1" />
          <label>비밀번호 확인 : </label>
          <input type="password" id="비밀번호2" />
          <p id="msg"></p>
          <button type="submit" onclick="가입하기()">제출</button>
        </form>
      </div>
    </div>
    <script>

        function 가입하기() {
            // class .  id #  태그는 태그명
            const name = $("#이름").val(); // 이름 정보 가져오기
            const pw1 = $("#비밀번호1").val(); // 비밀번호1 정보 가져오기
            const pw2 = $("#비밀번호2").val();
            const id1 = $("#아이디").val();
            const idPattern = /^[a-z0-9]{5,10}$/;
            const namePattern = /^[가-힇]{2,5}$/;

            // 만약 정규식과 작성한 이름이 정규식에 부합하는지 확인 테스트
            // 만약 테스트 결과가 일치하지 않다면 = true 
            if(!namePattern.test(name)){ // ! 는 모든 것을 부정, 즉 정규식과 다르다면? 이 조건이 됨
                alert("이름은 한글 또는 영어만 포함해야합니다.");
                // 일치하지 않다 알림이 뜨고 회원가입을 하지 못하게 하려면
                return false; // 정규식에 적합하지 않으므로 회원가입을 못하게 돌려보냄
            }
            if(!idPattern.test(id1)){
                alert("아이디가 적합하지 않습니다.");
                return false;
            }
            // 비밀번호1 과 비밀번호2 가 일치하는지 확인
            if(pw1 !== pw2){ // 비밀번호1 과 비밀번호2 가 일치하지 않을 때 true
                alert("비밀번호가 일치하지 않습니다.");
                return false; // 일치하지 않으므로 제출을 막아 회원가입 못하게 돌려보냄
            }
            // 이름과 비밀번호1,2 가 모두 일치
            alert("회원가입에 성공했습니다.");
            return true; // 지나갈 수 있도록 true 를 설정


            localStorage.setItem('이름',name);
            localStorage.setItem('아이디',id1);
            localStorage.setItem('비밀번호',pw1);


        }

     /* $(document).ready(function () {
        $("#비밀번호2").on("input", function () {
          const 비밀번호1 = $("#비밀번호1").val();
          const 비밀번호2 = $("#비밀번호2").val();

          if (비밀번호1 === 비밀번호2) {
            $("#msg").text("비밀번호가 일치합니다.").css("color", "green");
          } else {
            $("#msg").text("비밀번호가 일치하지 않습니다.").css("color", "red");
          }
        });
      });

      $(document).ready(function(){
        $("#이름").on("input",function(){
            const 이름 = $("#이름").val();
            const 정규식 =/^[가-힇]{2,5}$/;

            if(정규식.test(이름)){
                $("#msgName").text("올바른 이름 형식입니다.").css("color","green");
            } else {
                $("#msgName").text("올바르지 않은 이름 형식입니다.").css("color","red");
            }
        })
      }) */
    </script>
    <footer>
      <p>&copy; 2024 내 블로그. 모든 권리 보유.</p>
    </footer>
  </body>
</html>
